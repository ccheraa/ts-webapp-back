{"version":3,"file":"db.js","sourceRoot":"","sources":["../../src/db/db.ts"],"names":[],"mappings":";;;;AAAA,uCAAkC;AAElC,qCAA2D;AAC3D,6BAA2C;AAC3C;IAAA;IAcA,CAAC;IAXQ,UAAO,GAAd,UAAe,GAAW;QACxB,kBAAO,CAAC,GAAG,EAAE,UAAU,GAAG;YACxB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,qBAAU,CAAC,CAAC;gBAC/B,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;YAC3B,CAAC;QACH,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC;IACvB,CAAC;IACH,SAAC;AAAD,CAAC,AAdD;AAES,aAAU,GAAwB,IAAI,cAAO,EAAE,CAAC;AAF5C,gBAAE","sourcesContent":["export * from '@ts-webapp/common';\r\nimport { Model } from './model';\r\nimport { Connection, connect, connection } from 'mongoose';\r\nimport { Observable, Subject } from 'rxjs';\r\nexport class DB {\r\n  static observer: any;\r\n  static connection: Subject<Connection> = new Subject();\r\n  static connect(url: string): Subject<Connection> {\r\n    connect(url, function (err) {\r\n      if (err) {\r\n        DB.connection.error(err);\r\n      } else {\r\n        DB.connection.next(connection);\r\n        DB.connection.complete();\r\n      }\r\n    });\r\n    return DB.connection;\r\n  }\r\n}\r\n"]}